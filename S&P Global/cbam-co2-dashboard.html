<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Carbon Prices Dashboard</title>
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon" />
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="assets/css/styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
      <svg
        version="1.1"
        id="Layer_1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 0 512 512"
        xml:space="preserve"
        width="40px"
        height="40px"
        fill="#000000"
      >
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g
          id="SVGRepo_tracerCarrier"
          stroke-linecap="round"
          stroke-linejoin="round"
        ></g>
        <g id="SVGRepo_iconCarrier">
          <polygon
            style="fill: #dfdfe1"
            points="512,512 0,512 0,0 49.548,0 49.548,462.452 512,462.452 "
          ></polygon>
          <g>
            <rect
              x="99.097"
              y="247.742"
              style="fill: #ff6643"
              width="49.548"
              height="165.161"
            ></rect>
            <rect
              x="198.194"
              y="115.613"
              style="fill: #ff6643"
              width="49.548"
              height="297.29"
            ></rect>
          </g>
          <g>
            <rect
              x="297.29"
              y="247.742"
              style="fill: #ff4f19"
              width="49.548"
              height="165.161"
            ></rect>
            <rect
              x="396.387"
              y="115.613"
              style="fill: #ff4f19"
              width="49.548"
              height="297.29"
            ></rect>
          </g>
          <rect
            x="272.516"
            y="462.452"
            style="fill: #cfcdd2"
            width="239.484"
            height="49.548"
          ></rect>
        </g>
      </svg>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse px-2" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="carbon-prices-dashboard.html"
              >Carbon Prices Comparission
            </a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="cbam-co2-dashboard.html"
              >CBAM CO2 Emissions <span class="sr-only">(current)</span></a
            >
          </li>
        </ul>
      </div>
    </nav>

    <div id="loader"></div>

    <div class="container-fluid">
      <!-- Global Filters -->
      <div id="stickyFilters" class="row mb-4">
        <div class="col-md-auto">
          <label for="countrySelect" class="form-label"
            >Filter by Country</label
          >
          <select
            class="form-select"
            id="countrySelect"
            style="
              cursor: pointer;
              background: none;
              color: rgb(15, 15, 15);
              border: 1px solid #ccc;
              padding: 8px;
              border-radius: 8px;
            "
          >
            <option value="all">All</option>
          </select>
          <button
            id="resetFilters"
            class="btn btn-primary btn-hover-animation mx-4"
            style="background-color: #d6002a; border-color: #d6002a"
          >
            <i class="bi bi-arrow-counterclockwise"></i> Reset Filters
          </button>
        </div>
      </div>

      <!-- Charts Section -->
      <div class="row">
        <!-- PSankey diagram-->
        <div class="col-md-12">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title mb-2">
                Top 10 Countries and Sectors Most Exposed to CBAM (2026-2040
                Totals)
              </h5>
              <div id="sankeyChart"></div>
            </div>
          </div>
        </div>

        <!-- Stacked Chart -->
        <div class="col-md-12">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title mb-2">
                CO2 Emissions per Product and Region
              </h5>
              <div id="stackedBarChart"></div>
            </div>
          </div>
        </div>

        <!-- Heat Map -->
        <div class="col-md-12">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title mb-2">
                CO2 Emissions Heatmap per Product and Region
              </h5>
              <div id="heatmapChart"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="assets/js/cbam-co2.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </body>
</html>
